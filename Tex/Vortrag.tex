\documentclass{beamer}
%~ \usetheme{Hannover}  %% Themenwahl
%~ \usetheme{Bergen}  %% Themenwahl
\usetheme{Berkeley}  %% Themenwahl
\usecolortheme{dove}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[english]{babel}

\usepackage{graphicx}
\usepackage{upgreek}
\usepackage{float}
\usepackage{units}
\usepackage{url}

\usepackage{subfigure}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}

\usepackage{longtable}

\usepackage{ae}
\usepackage{booktabs}

\usepackage{tikz}
\usetikzlibrary{patterns}

%\abs{Ausdruck} %Betragsstriche, die skalieren - abgekürzt
\newcommand{\abs}[1]{\ensuremath{\left\vert#1\right\vert}}
% und das gleiche füur große Klammern
\newcommand{\brac}[1]{\ensuremath{\left(#1\right)}}
% Erwartungswert skalierend
\newcommand{\avg}[1]{\left< #1 \right>}
% ein nicht kursives d für Ableitungen/Integrale, mit etwas Platz davor, um sich etwas abzusetzten
\newcommand{\de}{\ensuremath{\,\mathrm{d}}}
% Für Einheiten: schreibt sie nicht kursiv und lässt etwas Platz zur Zahl vorher
\newcommand{\eh}[1]{\ensuremath{\,\mathrm{#1}}}
% einfaches Gradzeichen
\newcommand{\gr}{\ensuremath{^{\circ}}}
% Fehlerfortpfanzung
% dy/dz * delta z
\newcommand{\fehler}[2]%
{\ensuremath{\abs{\frac{\partial #1}{\partial #2}}\cdot \Delta #2}}

\title{Ising-Ferromagnet auf Ad-Hoc Netzwerken}
\author{Hendrik Schawe}
\date{\today}

\begin{document}

\maketitle
\frame{\tableofcontents[pausesections]}

\section{Model}
    \subsection{Ising Ferromagnet}
        \begin{frame}{Ising Ferromagnet}
            \begin{itemize}[<+->]
                \item \(N\) sites
                \item \(\avg{i,j}\) denotes "nearest neighbor" relationship
                \item every site has a spin \(s \in \{-1,+1\}\){}
                \item two spins \(i,j\) are coupled by \(J_{ij}\)
                \item{
                    \begin{equation}
                        H = - \sum_{\avg{i,j}}J_{ij}s_{i}s_{j}.
                    \end{equation}
                    (Ref.\ \cite{Ising1925})
                }
            \end{itemize}
        \end{frame}

        \begin{frame}{Disordered Ising Ferromagnet}
            \begin{columns}[t]
                \begin{column}{5cm}
                    \begin{itemize}
                        \item<1-> start with square lattice
                        \item<2-> displace every node randomly according to\\
                            \(f(x)=\frac{1}{\sqrt{2\pi}\sigma}\mathrm{e}^{-\frac{x^2}{2\sigma^2}}.\){}
                        \item<3-> assign new nearest neighbors
                        \item<4-> depending on their distance \(d_{ij}\) assign new \(J_{ij} = e^{\alpha(1-d_{ij})}\)
                        \item<4-> here \(\alpha = 0.5\)
                    \end{itemize}
                \end{column}
                \begin{column}{6cm}
                    \visible<2->{
                        \vspace{-1cm}
                        \begin{figure}[htbp]
                            \centering
                            \input{images/Displacement}
                            \caption
                            {
                                Displacement of the nodes.
                            }
                        \end{figure}
                    }
                \end{column}
            \end{columns}
        \end{frame}

    \subsection{Proximity Graphs}
        \begin{frame}{Proximity Graphs}
            \begin{itemize}[<+->]
                \item{ 3 graph types used
                    \begin{itemize}
                        \item Delaunay Triangulation (DT) \cite{Katajainen}
                        \item Gabriel Graph (GG) \cite{Gabriel1969}
                        \item Relative Neighborhood Graph (RNG) \cite{Toussaint1980}
                    \end{itemize}
                }
                \item{
                    \begin{equation}
                        DT \supseteq GG \supseteq RNG
                    \end{equation}
                }
            \end{itemize}
        \end{frame}

        \begin{frame}{Delaunay Triangulation}
            \begin{figure}[htbp]
                \centering
                \input{images/DT_def}
                \caption
                {
                    Example of a DT.
                }
            \end{figure}
        \end{frame}

        \begin{frame}{Gabriel Graph}
            \begin{columns}[b]
                \begin{column}{5cm}
                    \begin{figure}[htbp]
                        \centering
                        \input{images/GG_def}
                        \caption
                        {
                            Lune of a GG.
                        }
                    \end{figure}
                \end{column}
                \begin{column}{5cm}
                    \begin{figure}[htbp]
                        \centering
                        \includegraphics[width=1\textwidth]{images/GG/L12S03.pdf}
                        \caption
                        {
                            GG Example
                        }
                    \end{figure}
                \end{column}
            \end{columns}
        \end{frame}

        \begin{frame}{Relative Neighborhood Graph}
            \begin{columns}[b]
                \begin{column}{5cm}
                    \begin{figure}[htbp]
                        \centering
                        \input{images/RNG_def}
                        \caption
                        {
                            Lune of a RNG.
                        }
                    \end{figure}
                \end{column}
                \begin{column}{5cm}
                    \begin{figure}[htbp]
                        \centering
                        \includegraphics[width=1\textwidth]{images/RNG/L12S03.pdf}
                        \caption
                        {
                            RNG Example
                        }
                    \end{figure}
                \end{column}
            \end{columns}
        \end{frame}

        \begin{frame}{Graph Generation}
            \begin{columns}[t]
                \begin{column}{5cm}
                    \begin{itemize}
                        \item<1-> Fastest: generate DT in \(O(n \log(n))\) and test every edge
                        \item<2-> But DT generation is not trivial
                        \item<3-> Simplest: test every possible edge in \(O(n^{3})\)
                        \item<4-> But: really slow
                        \item<5-> Idea: test only nodes near the lune for every pair in best case \(O(n^{2})\)
                    \end{itemize}
                \end{column}
                \begin{column}{5cm}
                    \begin{overprint}
                        \onslide<6>{
                            \only<6>{
                                \begin{figure}[htbp]
                                    \centering
                                    \input{images/CellBig}
                                \end{figure}
                            }
                        }
                        \onslide<7>{
                                \begin{figure}[htbp]
                                    \centering
                                    \input{images/CellSmall}
                                \end{figure}
                        }
                    \end{overprint}
                \end{column}
            \end{columns}
        \end{frame}

\section{Methods}
    \subsection{Monte Carlo Simulations}
        \begin{frame}{Monte Carlo Simulations}
            \begin{itemize}[<+->]
                \item generate random states
                \item mesure observables of these states
                \item{ estimate observable \(O\) by
                    \begin{equation}
                        \avg{O} = \frac{1}{Z} \sum_i p_i O_i
                    \end{equation}
                }
            \end{itemize}
            \begin{itemize}[<+->]
                \item But there are states contributing more than others
                \item{ e.g.\ low \(H_{i}\) in canonical systems at low \(T\) with
                    \begin{equation}
                        p_{i} = e^{-\frac{H_{i}}{k_{B}T}}
                    \end{equation}
                }
            \end{itemize}
        \end{frame}

        \begin{frame}{Importance Sampling}
            \begin{itemize}[<+->]
                \item generate new states according to the known distribution \(p_{i}\)
                \item generate new states from former states
                \item{ Markov Chains
                    \begin{itemize}
                        \item Ergodicity\\
                                every state is reachable in finite time
                        \item Detailed Balance\\
                                in equilibrium the probability to reach a state is the same as the probability to leave the same state
                    \end{itemize}
                }
                \item note that the correlation of subsequent states has an effect on the errorbars\\
                    \(\to\) autocorrelation time \(\tau\)
            \end{itemize}
        \end{frame}

        \begin{frame}{Single Spin Flip Metropolis Update \cite{Metropolis1953}}
            \begin{equation}
                A(\mu \to \nu) =
                \begin{cases}
                    1                            & \Delta H \le 0 \\
                    \exp{\brac{-\beta \Delta H}} & \Delta H > 0
                \end{cases}.
            \end{equation}
        \end{frame}

        \begin{frame}{Wolff Cluster Update \cite{Wolff1989}}
            \begin{equation}
                P_{\mathrm{add}} = 1-\exp\brac{-2\beta J},
            \end{equation}
            \pause
            \begin{itemize}[<+->]
                \item very efficient at \(T_{c}\)
                \item but inferior to Metropolis at large and small \(T\)
            \end{itemize}
        \end{frame}

        \begin{frame}{Parallel Tempering \cite{ParallelTempering1986}}
            \begin{equation}
                P_{i,i+1}((E_i,T_i) \to (E_{i+1},T_{i+1})) = \min\brac{1,e^{\brac{\brac{E_{i+1}-E_i}\brac{\frac{1}{T_{i+1}}-\frac{1}{T_i}}}}}
            \end{equation}
            \begin{columns}[b]
                \begin{column}{5cm}
                    \begin{figure}[htbp]
                        \centering
                        \input{images/parTempSchema}
                        \caption
                        {
                            Swapping the spin configurations.
                        }
                    \end{figure}
                \end{column}
                \pause
                \begin{column}{6cm}
                    \begin{figure}[htbp]
                        \centering
                        \input{images/parTempE}
                        \caption
                        {
                            Sketch of an energy landscape.
                        }
                    \end{figure}
                \end{column}
            \end{columns}
        \end{frame}

\section{Results}
    \begin{frame}{Details}
        \begin{itemize}[<+->]
            \item Aim: determining the dependence from \(T_{c}\) on \(\sigma\)
            \item \(10^{4} (L\in\{16,32\})\) or  \(5\cdot 10^{3} (L\in\{64,128\})\) uncorreltated measurements of \(O\) to get \(\avg{O}\)
            \item on each of 100 randomly generated proximity graphs to get \(\overline{\avg{O}}\){}
            \item \(m = \frac{1}{N} \sum_{i} s_{i}\)
            \item \(E = \frac{1}{N} H\)
        \end{itemize}
    \end{frame}

    \begin{frame}{Finite Size Effects}
        \begin{columns}[t]
            \begin{column}{5cm}
                \begin{itemize}[<+->]
                    \item \(T_{c}\) defined for \(L \to \infty\)
                    \item here: two ways to determine \(T_{c}\) are used
                    \begin{enumerate}[<+->]
                        \item Finite Size Scaling to collapse the data
                        \begin{itemize}[<+->]
                            \item yields also critical exponents
                        \end{itemize}
                        \item Intersection of the Binder Cumulant
                        \begin{itemize}[<+->]
                            \item very simple and easy to automate
                        \end{itemize}
                    \end{enumerate}
                \end{itemize}
            \end{column}
            \begin{column}{6cm}
                \begin{figure}[htbp]
                    \centering
                    \includegraphics[width=1\textwidth]{plots/meanM}
                    \caption
                    {
                        Finite Size Effects
                    }
                \end{figure}
            \end{column}
        \end{columns}
    \end{frame}

    \subsection{Finite Size Scaling}
        \begin{frame}{Finite Size Scaling}
            Scaling Functions
            \begin{align}
                \label{eq:fsscaling:m}
                \avg{m_L} &= L^{-\frac{\beta}{\nu}} \tilde{M}\brac{L^\frac{1}{\nu}\brac{T-T_c}}\\
                \label{eq:fsscaling:chi}
                \chi_L    = L^{2} \beta \avg{\brac{m_{L}-\avg{m_{L}}}^2} &= L^{\frac{\gamma}{\nu}} \tilde{C}\brac{L^\frac{1}{\nu}\brac{T-T_c}}\\
                \label{eq:fsscaling:g}
                g         = \frac{3}{2}\brac{1-\frac{\avg{m_{L}^4}}{3\avg{m_{L}^2}^2}} &\propto \tilde{G}\brac{L^\frac{1}{\nu}\brac{T-T_c}}
            \end{align}
            using \texttt{autoscale.py} \cite{autoscale2009}
        \end{frame}
        \begin{frame}{Finite Size Scaling}
            \begin{figure}[htbp]
                \centering
                \subfigure
                {
                    \label{sfig:gettingCrit:binder_s_0}
                    \includegraphics[width=0.47\textwidth]{plots/binder_s_0}
                }
                \subfigure
                {
                    \label{sfig:gettingCrit:collapse_s_0}
                    \includegraphics[width=0.47\textwidth]{plots/collapse_s_0}
                }
                \caption
                {
                    Scaling of the Binder Cumulant at \(\sigma = 0\)
                }
                \label{fig:gettingCrit}
            \end{figure}
        \end{frame}
        \begin{frame}{Finite Size Scaling}
            \begin{figure}[htbp]
                \centering
                \subfigure
                {
                    \label{sfig:gettingCrit:s_1_sus}
                    \includegraphics[width=0.47\textwidth]{plots/s_1_sus}
                }
                \subfigure
                {
                    \label{sfig:gettingCrit:collapse_s_1_sus}
                    \includegraphics[width=0.47\textwidth]{plots/collapse_s_1_sus}
                }
                \caption
                {
                    Scaling of the susceptibility at \(\sigma = 1\) on RNG
                }
                \label{fig:gettingCrit}
            \end{figure}
        \end{frame}
        \begin{frame}{Finite Size Scaling}
            \begin{figure}[htbp]
                \centering
                \subfigure
                {
                    \label{sfig:gettingCrit:s_1_meanM}
                    \includegraphics[width=0.47\textwidth]{plots/s_1_meanM}
                }
                \subfigure
                {
                    \label{sfig:gettingCrit:collapse_s_1_meanM}
                    \includegraphics[width=0.47\textwidth]{plots/collapse_s_1_meanM}
                }
                \caption
                {
                    Scaling of the magnetization at \(\sigma = 1\) on GG
                }
                \label{fig:gettingCrit}
            \end{figure}
        \end{frame}

    \subsection{Critical Exponents}
        \begin{frame}{Critical Exponents}
            \begin{table}[htbp]
                \center
                \resizebox{\textwidth}{!}{
                    \begin{tabular}{l l l l l l}
                        \toprule
                         & \multicolumn{1}{c}{\(\sigma\)} & \multicolumn{1}{c}{\(T_c\)} & \multicolumn{1}{c}{\(\nu\)} & \multicolumn{1}{c}{\(\gamma\)} & \multicolumn{1}{c}{\(\beta\)}\\
                        \midrule
                        exact (\cite[p. 59]{Pelissetto2002}) & \multicolumn{1}{c}{\(0\)} & 2.2691... & \multicolumn{1}{c}{\(1\)} & \multicolumn{1}{c}{\(\frac{7}{4}\)} & \multicolumn{1}{c}{\(\frac{1}{8}\)}\\
                        \midrule
                        RNG          & 0.0 & 2.2689(7)& 0.992(11)& 1.740(2) & 0.130(1) \\
                                     & 0.1 & 2.2058(8)& 0.987(12)& 1.746(5) & 0.133(4) \\
                                     & 0.2 & 1.627(2) & 1.010(9) & 1.756(14)& 0.123(10)\\
                                     & 0.5 & 1.2825(7)& 1.010(16)& 1.750(16)& 0.143(13)\\
                                     & 1.0 & 1.2123(3)& 1.013(6) & 1.758(16)& 0.138(13)\\
                        \midrule
                        GG           & 0.0 & 2.2687(5)& 0.998(8) & 1.735(2) & 0.1262(4)\\
                                     & 0.1 & 2.895(4) & 0.999(19)& 1.744(5) & 0.133(6) \\
                                     & 0.3 & 2.527(1) & 1.029(30)& 1.724(16)& 0.129(12)\\
                                     & 0.5 & 2.238(1) & 1.006(5) & 1.750(12)& 0.125(13)\\
                                     & 1.0 & 2.128(2) & 1.038(32)& 1.743(17)& 0.123(16)\\

                        \bottomrule
                    \end{tabular}
                }
                \caption
                {
                    Critical exponents for different values of \(\sigma\)
                }
                \label{tab:critExp}
            \end{table}
        \end{frame}

    \subsection{Critical Temperature}
        \begin{frame}{Binder Cumulant Intersection}
            \begin{columns}[t]
                \begin{column}{5cm}
                    \begin{itemize}[<+->]
                        \item Interpolate \(g\) to estimate the intersection
                        \item cubic spline is robust
                        \begin{itemize}[<+->]
                            \item piecewise fitting polynoms of degree 3
                            \item whole curve is \(2 \times\) continously differentiable
                        \end{itemize}
                        \item intersection is at \(T_{c}\)
                        \item easy to implement using \texttt{scipy}
                    \end{itemize}
                \end{column}
                \begin{column}{6cm}
                    \begin{figure}[htbp]
                        \centering
                        \includegraphics[width=\textwidth]{plots/binder_fit_s_0}
                        \caption
                        {
                            Binder Cumulant \(g\) at \(\sigma = 0\).
                            Interpolated by cubic splines.
                        }
                        \label{fig:gettingCrit:binder_fit_s_0}
                    \end{figure}
                \end{column}
            \end{columns}
        \end{frame}

        \begin{frame}{Critical Temperature}
            \begin{figure}[htbp]
                \centering
                \subfigure
                {
                    \label{sfig:Tc:RNG}
                    \includegraphics[width=0.45\textwidth]{plots/RNG_Tc}
                }
                \subfigure
                {
                    \label{sfig:Tc:GG}
                    \includegraphics[width=0.45\textwidth]{plots/GG_Tc}
                }
                \caption
                {
                    \(T_c\) over \(\sigma\) for RNG and GG.
                }
                \label{fig:Tc}
            \end{figure}
            \pause
            Note: \(T_{c,RNG} \le T_{c,GG}\) while \(RNG \subseteq GG\)\\
            (compare containment theorem for percolation)
        \end{frame}

        \begin{frame}{Why the jump on GG?}
            \begin{figure}[htbp]
                \centering
                \subfigure{
                    \label{sfig:GGEdge:before}
                    \resizebox{0.43\textwidth}{!}{
                        \input{images/GGEdgeBefore}
                    }
                }
                \subfigure{
                    \label{sfig:GGEdge:after}
                    \resizebox{0.43\textwidth}{!}{
                        \input{images/GGEdgeAfter}
                    }
                }
                \caption
                {
                    Small GG at \(\sigma = 0\) and \(\sigma > 0\)
                }
                \label{fig:GGEdge}
            \end{figure}
        \end{frame}

        \begin{frame}{Influence of the degree on \(T_{c}\)}
            \begin{equation}
                K = \frac{1}{N} \sum_{\avg{i,j}} 1
                \label{eq:degree}
            \end{equation}
            \begin{figure}[htbp]
                \centering
                \subfigure
                {
                    \label{sfig:deg:RNG}
                    \includegraphics[width=0.45\textwidth]{plots/RNG_deg}
                }
                \subfigure
                {
                    \label{sfig:deg:GG}
                    \includegraphics[width=0.45\textwidth]{plots/GG_deg}
                }
                \caption
                {
                    Degree \(K\) over different \(\sigma\) for RNG and GG
                }
                \label{fig:Tc_deg}
            \end{figure}
        \end{frame}

\section{Conclusion}
    \begin{frame}{Conclusion}
        \begin{itemize}[<+->]
            \item Disordered Ising Ferromagnet is in the square lattice Ising Ferromagnet universality class
            \item course of \(T_{c}\) over different \(\sigma\) is qualitative similar to course of \(K\)
        \end{itemize}
    \end{frame}

\section{References}
    \begin{frame}[allowframebreaks]
        \bibliography{lit}
        \bibliographystyle{amsplain}
    \end{frame}

\end{document}
